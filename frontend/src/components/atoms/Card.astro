---
import type { Card } from "~/types";
import { format, embedUpdated } from "~/utils/dateToString";
import { toStr } from "~/utils/tagArrayToString";

type Props = Card;
const { title, url, tags, description, created, updated } = Astro.props;

const date: string = format(created) + (updated !== null ? embedUpdated(created) : "");
const tagStr: string = tags.length ? " | " + toStr(tags) : "";
const metadata: string = date + tagStr;
---

<article
    class="rounded-2xl border-2 border-solid border-transparent hover:border-secondary hover:shadow-[3px_3px_4px_1px] hover:shadow-shadow"
>
    <!-- TODO: セパレータのアクセシビリティ -->
    <a href={url} class="block py-4 px-5">
        <p class="text-sm text-foreground/50 sm:text-base">{metadata}</p>
        <h2 class="mb-2.5 border-b border-tertiary pb-1.5 text-xl text-primary sm:text-2xl">
            {title}
        </h2>
        <p
            class="bg-gradient-to-b from-foreground via-foreground/80 to-foreground/20 bg-clip-text text-transparent line-clamp-5 sm:text-lg"
        >
            {description}
        </p>
    </a>
</article>
