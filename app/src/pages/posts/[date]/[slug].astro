---
import type { MarkdownInstance } from 'astro';
import type { Frontmatter } from '~/types';
import { format } from '~/utils/dateToString';
import { globPosts } from '~/utils/process';

export const getStaticPaths = async () => {
    const posts = await globPosts();
    return posts.map(({ Content, frontmatter: { pubDate, slug } }) => ({
        params: {
            date: format(pubDate),
            slug,
        },
        props: { Content },
    }));
};

type Props = MarkdownInstance<Frontmatter>;
const { Content } = Astro.props;
---

<Content />
