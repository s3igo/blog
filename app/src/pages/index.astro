---
import * as R from 'remeda';
import List from '~/components/molecules/List.astro';
import { PAGE_TITLE } from '~/constants';
import type { Card, Frontmatter } from '~/types';
import Layout from '../layouts/Layout.astro';

const posts = await Astro.glob<Frontmatter>('../data/posts/*.md');
const articles: Card[] = R.pipe(
    posts,
    R.map(({ frontmatter }) => frontmatter),
    R.sortBy(({ pubDate }) => Number(pubDate)),
    R.reverse()
);
---

<Layout title={PAGE_TITLE} isH1={true}>
    <List cards={articles} />
</Layout>
